"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9872],{9872:(E,g,i)=>{i.r(g),i.d(g,{ShowReportsPageModule:()=>J});var m=i(6895),f=i(4006),l=i(2977),h=i(6630),R=i(2459),c=i(7699),t=i(4650),P=i(5030),D=i(847),C=i(415),x=i(8739),T=i(4879),s=i(3626);function y(e,n){1&e&&(t.TgZ(0,"th",10),t._uU(1,"#"),t.qZA())}function Z(e,n){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.billNumber)}}function S(e,n){1&e&&(t.TgZ(0,"th",10),t._uU(1,"Date."),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.billingDate.toString().split("T")[0]," ")}}function _(e,n){1&e&&(t.TgZ(0,"th",10),t._uU(1,"C(Rs)"),t.qZA())}function w(e,n){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Ptotal.toFixed(2)," ")}}function M(e,n){1&e&&(t.TgZ(0,"th",10),t._uU(1,"S(Rs)"),t.qZA())}function v(e,n){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.Stotal.toFixed(2)," ")}}function A(e,n){1&e&&(t.TgZ(0,"th",10),t._uU(1,"P(Rs)"),t.qZA())}function O(e,n){if(1&e&&(t.TgZ(0,"td",11),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",(+o.Stotal-+o.Ptotal).toFixed(2)," ")}}function Y(e,n){1&e&&t._UZ(0,"tr",12)}function b(e,n){1&e&&t._UZ(0,"tr",13)}let U=(()=>{class e{constructor(){this.reportResultBalance=null,this.totalProfit=0,this.displayedColumns=["billNumber","billingDate","Ptotal","Stotal","profit"],this.start=null,this.end=null,this.transform=(new T.p).transform,this.listArrayBill=[]}ngOnInit(){}ngOnChanges(o){this.startDate=o.startDate?.currentValue,this.endDate=o.endDate?.currentValue,this.selectedReport=o.selectedReport?.currentValue,this.filterDateBy=o.filterDateBy?.currentValue}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-period-profitloss"]],inputs:{startDate:"startDate",endDate:"endDate",selectedReport:"selectedReport",filterDateBy:"filterDateBy",iReportsResp:"iReportsResp"},features:[t.TTD],decls:19,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","billNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","billingDate"],["matColumnDef","Ptotal"],["matColumnDef","Stotal"],["matColumnDef","profit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"ion-content")(1,"table",0),t.ynx(2,1),t.YNc(3,y,2,0,"th",2),t.YNc(4,Z,2,1,"td",3),t.BQk(),t.ynx(5,4),t.YNc(6,S,2,0,"th",2),t.YNc(7,B,2,1,"td",3),t.BQk(),t.ynx(8,5),t.YNc(9,_,2,0,"th",2),t.YNc(10,w,2,1,"td",3),t.BQk(),t.ynx(11,6),t.YNc(12,M,2,0,"th",2),t.YNc(13,v,2,1,"td",3),t.BQk(),t.ynx(14,7),t.YNc(15,A,2,0,"th",2),t.YNc(16,O,2,1,"td",3),t.BQk(),t.YNc(17,Y,1,0,"tr",8),t.YNc(18,b,1,0,"tr",9),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("dataSource",null==a.iReportsResp?null:a.iReportsResp.billList),t.xp6(16),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[l.W2,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:["table[_ngcontent-%COMP%]{width:100%;box-shadow:none}.resultstyle[_ngcontent-%COMP%]{display:block;text-align:right;padding-right:16px}th.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;text-align:center;border-right:1px solid black}td.mat-cell[_ngcontent-%COMP%]{text-align:center;border-right:1px solid black}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding:0}th.mat-header-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid currentColor}.mat-column-ordernumber[_ngcontent-%COMP%]{width:10vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-orderDate[_ngcontent-%COMP%]{width:30vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-profit[_ngcontent-%COMP%], .mat-column-allSellValue[_ngcontent-%COMP%], .mat-column-allPurchaseValue[_ngcontent-%COMP%]{width:20vw;text-align:center;padding:0;border-right:1px solid currentColor}"]}),e})();function F(e,n){if(1&e&&t._UZ(0,"app-period-profitloss",3),2&e){const o=t.oxw();t.Q6J("startDate",o.startDate)("endDate",o.endDate)("selectedReport",o.selectedReport)("filterDateBy",o.filterDateBy)("iReportsResp",o.iReportsResp)}}function N(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"mat-paginator",4,5),t.NdJ("page",function(p){t.CHM(o);const d=t.oxw();return t.KtG(d.handlePageEvent(p))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("length",null==o.iReportsResp?null:o.iReportsResp.totalPage)("pageSize",o.currentMaxPage)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",0)}}const j=[{path:"",component:(()=>{class e{constructor(o,a,p,d,L){this.activeRoute=o,this.httpServc=a,this.util=p,this.snackBar=d,this.alertCtrl=L,this.startDate=null,this.endDate=null,this.selectedReport="-1",this.pageheading="",this.currentMaxPage=this.util.maxPageCountReport,this.FILTERBY=c.pA,this.handlePageEvent=r=>{this.fetchData(r.pageIndex)},this.fetchData=r=>{this.fetchFilterBill({startDate:this.startDate,endDate:this.endDate,selectedReport:this.selectedReport,filterDateBy:this.filterDateBy,paged:!0,page:r?r+1:1,count:this.currentMaxPage})},this.fetchFilterBill=r=>{this.util.isLoading=!0,this.httpServc.post(c.sY.REPORT_BILLWISE,{...r}).then(u=>{this.iReportsResp={...u.responseObject},this.util.isLoading=!1}).catch(u=>{console.log(u),this.util.isLoading=!1})},this.currentMaxPage=this.util.maxPageCountReport}ngOnInit(){this.activeRoute.queryParams.subscribe(o=>{this.startDate=o.startDate,this.endDate=o.endDate,this.selectedReport=o.selectedReport,this.filterDateBy=+o.filterDateBy,this.currentMaxPage=this.util.maxPageCountReport;const a=new R.M,p=a.transform(new Date(this.startDate)),d=a.transform(new Date(this.endDate));this.pageheading=(this.filterDateBy===c.pA.DATE?p:this.startDate)+" - "+(this.filterDateBy===c.pA.DATE?d:this.endDate),this.iReportsResp=this.util.iReportsResp})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.gz),t.Y36(P.O),t.Y36(D.f),t.Y36(C.o),t.Y36(l.Br))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-show-reports"]],decls:17,vars:8,consts:[[3,"startDate","endDate","selectedReport","filterDateBy","iReportsResp",4,"ngIf"],[1,"resultstyle"],["class","demo-paginator","aria-label","Select page",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page",4,"ngIf"],[3,"startDate","endDate","selectedReport","filterDateBy","iReportsResp"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page"],["paginator",""]],template:function(o,a){1&o&&(t.TgZ(0,"ion-header")(1,"ion-title"),t._uU(2),t.qZA()(),t.TgZ(3,"ion-content"),t.YNc(4,F,1,5,"app-period-profitloss",0),t.qZA(),t.TgZ(5,"ion-footer")(6,"h6",1),t._uU(7),t.qZA(),t.TgZ(8,"h6",1),t._uU(9),t.qZA(),t.TgZ(10,"h6",1),t._uU(11),t.qZA(),t.TgZ(12,"h6",1),t._uU(13),t.qZA(),t.TgZ(14,"h5",1),t._uU(15),t.qZA(),t.YNc(16,N,2,5,"mat-paginator",2),t.qZA()),2&o&&(t.xp6(2),t.hij(" ",a.pageheading," "),t.xp6(2),t.Q6J("ngIf","-1"===a.selectedReport),t.xp6(3),t.hij(" Total Sell: ",null==a.iReportsResp?null:a.iReportsResp.totalSell.toFixed(2)," "),t.xp6(2),t.hij(" Total Cost: -",null==a.iReportsResp?null:a.iReportsResp.totalCost.toFixed(2)," "),t.xp6(2),t.hij(" Unpaid Amount: -",null==a.iReportsResp?null:a.iReportsResp.unPaid.toFixed(2)," "),t.xp6(2),t.hij("Total Tax: -",null==a.iReportsResp?null:a.iReportsResp.tax.toFixed(2),""),t.xp6(2),t.hij(" Total Profit: ",null==a.iReportsResp?null:a.iReportsResp.profit.toFixed(2)," "),t.xp6(1),t.Q6J("ngIf",null==a.iReportsResp?null:a.iReportsResp.totalPage))},dependencies:[m.O5,l.W2,l.fr,l.Gu,l.wd,x.NW,U],styles:["h6[_ngcontent-%COMP%]{padding:0;margin:0}.resultstyle[_ngcontent-%COMP%]{display:block;text-align:right;padding-right:16px}"]}),e})(),data:{title:"Reports & Billings",displayBackButton:!0,backTo:"reports"}}];let Q=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(j),h.Bz]}),e})();var z=i(3493),I=i(1373);let J=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,f.u5,l.Pc,Q,z.d,I.q]}),e})()}}]);