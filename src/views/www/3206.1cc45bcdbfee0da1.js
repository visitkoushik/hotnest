"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3206],{3206:($,p,n)=>{n.r(p),n.d(p,{ItemwisePageModule:()=>J});var f=n(6895),P=n(4006),l=n(2977),r=n(6630),x=n(4879),w=n(2459),d=n(7699),t=n(4650),C=n(4422),D=n(847),R=n(5030),T=n(415),v=n(8739),s=n(3626);function I(e,i){1&e&&(t.TgZ(0,"th",12),t._uU(1,"#"),t.qZA())}function Z(e,i){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.order)}}function y(e,i){1&e&&(t.TgZ(0,"th",12),t._uU(1,"Date"),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.date)}}function B(e,i){1&e&&(t.TgZ(0,"th",12),t._uU(1,"Count"),t.qZA())}function O(e,i){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.itemCount)}}function A(e,i){1&e&&(t.TgZ(0,"th",12),t._uU(1,"S(Rs)"),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",a.sellingAmount.toFixed(2)," ")}}function N(e,i){1&e&&(t.TgZ(0,"th",12),t._uU(1,"P(Rs)"),t.qZA())}function _(e,i){if(1&e&&(t.TgZ(0,"td",13),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.total.toFixed(2))}}function S(e,i){1&e&&t._UZ(0,"tr",14)}function U(e,i){1&e&&t._UZ(0,"tr",15)}function F(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"mat-paginator",16,17),t.NdJ("page",function(c){t.CHM(a);const g=t.oxw();return t.KtG(g.handlePageEvent(c))}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("length",null==a.iReportsResp?null:a.iReportsResp.totalPage)("pageSize",a.currentMaxPage)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",0)}}const Q=[{path:"",component:(()=>{class e{constructor(a,o,c,g,L,q){this.cartServc=a,this.activeRoute=o,this.util=c,this.httpService=g,this.snackBar=L,this.router=q,this.startDate=null,this.endDate=null,this.selectedReport="-1",this.pageheading="",this.FILTERBY=d.pA,this.itemName="",this.reportResultBalance=null,this.totalProfit=0,this.displayedColumns=["order","date","itemCount","sellingAmount","total"],this.start=null,this.end=null,this.currentMaxPage=this.util.maxPageCountReport,this.transform=(new x.p).transform,this.fetchData=m=>{this.fetchFilterBill({startDate:this.startDate,endDate:this.endDate,selectedReport:this.selectedReport,filterDateBy:this.filterDateBy,paged:!0,page:m?m+1:1,count:this.currentMaxPage})},this.handlePageEvent=m=>{this.fetchData(m.pageIndex)},this.fetchFilterBill=m=>{this.util.isLoading=!0,this.httpService.post(d.sY.REPORT_ITEMWISE,{...m}).then(h=>{this.iReportsResp={...h.responseObject},this.totalProfit=0,this.reportResultBalance=this.iReportsResp.billList.map((u,j)=>(this.itemName=u.itemName,this.totalProfit+=u.total,{...u,order:j+1})),this.util.isLoading=!1}).catch(h=>{console.log(h),this.util.isLoading=!1})},this.currentMaxPage=this.util.maxPageCountReport}ngOnInit(){this.activeRoute.queryParams.subscribe(a=>{this.startDate=a.startDate,this.endDate=a.endDate,this.selectedReport=a.selectedReport,this.filterDateBy=+a.filterDateBy,this.currentMaxPage=this.util.maxPageCountReport;const o=new w.M,c=o.transform(new Date(this.startDate)),g=o.transform(new Date(this.endDate));this.pageheading=(this.filterDateBy===d.pA.DATE?c:this.startDate)+" - "+(this.filterDateBy===d.pA.DATE?g:this.endDate),this.fetchData()}),this.router.events.subscribe(a=>{a instanceof r.Q3&&console.log(a.error)})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(C.N),t.Y36(r.gz),t.Y36(D.f),t.Y36(R.O),t.Y36(T.o),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-itemwise"]],decls:29,vars:7,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","itemCount"],["matColumnDef","sellingAmount"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"resultstyle"],["class","demo-paginator","aria-label","Select page",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page"],["paginator",""]],template:function(a,o){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-content")(7,"table",0),t.ynx(8,1),t.YNc(9,I,2,0,"th",2),t.YNc(10,Z,2,1,"td",3),t.BQk(),t.ynx(11,4),t.YNc(12,y,2,0,"th",2),t.YNc(13,M,2,1,"td",3),t.BQk(),t.ynx(14,5),t.YNc(15,B,2,0,"th",2),t.YNc(16,O,2,1,"td",3),t.BQk(),t.ynx(17,6),t.YNc(18,A,2,0,"th",2),t.YNc(19,Y,2,1,"td",3),t.BQk(),t.ynx(20,7),t.YNc(21,N,2,0,"th",2),t.YNc(22,_,2,1,"td",3),t.BQk(),t.YNc(23,S,1,0,"tr",8),t.YNc(24,U,1,0,"tr",9),t.qZA()(),t.TgZ(25,"ion-footer")(26,"h5",10),t._uU(27),t.qZA(),t.YNc(28,F,2,5,"mat-paginator",11),t.qZA()),2&a&&(t.xp6(3),t.Oqu(o.pageheading),t.xp6(2),t.Oqu(o.itemName),t.xp6(2),t.Q6J("dataSource",o.reportResultBalance),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.hij("Total Profit: ",o.totalProfit.toFixed(2),""),t.xp6(1),t.Q6J("ngIf",null==o.iReportsResp?null:o.iReportsResp.totalPage))},dependencies:[f.O5,l.W2,l.fr,l.Gu,l.Q$,l.wd,l.sr,v.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:["table[_ngcontent-%COMP%]{width:100%;box-shadow:none}th.mat-header-cell[_ngcontent-%COMP%]{text-align:center;font-weight:700}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding:0}th.mat-header-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid currentColor}.mat-column-order[_ngcontent-%COMP%]{width:10vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-itemCount[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%]{width:15vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-sellingAmount[_ngcontent-%COMP%], .mat-column-total[_ngcontent-%COMP%]{width:25vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-item[_ngcontent-%COMP%]{width:50vw;padding:0;text-align:left;border-right:1px solid currentColor}.resultstyle[_ngcontent-%COMP%]{display:block;text-align:right;padding-right:16px}"]}),e})(),data:{title:"Report & Billings",displayBackButton:!0}}];let z=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(Q),r.Bz]}),e})();var E=n(3493),b=n(1373);let J=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.ez,P.u5,l.Pc,z,E.d,b.q,P.UX]}),e})()}}]);