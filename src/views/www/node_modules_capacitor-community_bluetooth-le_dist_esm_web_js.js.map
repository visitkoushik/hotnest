{"version":3,"file":"node_modules_capacitor-community_bluetooth-le_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor-community/bluetooth-le/dist/esm/timeout.js","./node_modules/@capacitor-community/bluetooth-le/dist/esm/web.js"],"sourcesContent":["export async function runWithTimeout(promise, time, exception) {\n    let timer;\n    return Promise.race([\n        promise,\n        new Promise((_, reject) => {\n            timer = setTimeout(() => reject(exception), time);\n        }),\n    ]).finally(() => clearTimeout(timer));\n}\n","import { WebPlugin } from '@capacitor/core';\nimport { hexStringToDataView, mapToObject, webUUIDToString } from './conversion';\nimport { runWithTimeout } from './timeout';\nexport class BluetoothLeWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.deviceMap = new Map();\n        this.discoveredDevices = new Map();\n        this.scan = null;\n        this.DEFAULT_CONNECTION_TIMEOUT = 10000;\n        this.onAdvertisementReceivedCallback = this.onAdvertisementReceived.bind(this);\n        this.onDisconnectedCallback = this.onDisconnected.bind(this);\n        this.onCharacteristicValueChangedCallback = this.onCharacteristicValueChanged.bind(this);\n    }\n    async initialize() {\n        if (typeof navigator === 'undefined' || !navigator.bluetooth) {\n            throw this.unavailable('Web Bluetooth API not available in this browser.');\n        }\n        const isAvailable = await navigator.bluetooth.getAvailability();\n        if (!isAvailable) {\n            throw this.unavailable('No Bluetooth radio available.');\n        }\n    }\n    async isEnabled() {\n        // not available on web\n        return { value: true };\n    }\n    async enable() {\n        throw this.unavailable('enable is not available on web.');\n    }\n    async disable() {\n        throw this.unavailable('disable is not available on web.');\n    }\n    async startEnabledNotifications() {\n        // not available on web\n    }\n    async stopEnabledNotifications() {\n        // not available on web\n    }\n    async isLocationEnabled() {\n        throw this.unavailable('isLocationEnabled is not available on web.');\n    }\n    async openLocationSettings() {\n        throw this.unavailable('openLocationSettings is not available on web.');\n    }\n    async openBluetoothSettings() {\n        throw this.unavailable('openBluetoothSettings is not available on web.');\n    }\n    async openAppSettings() {\n        throw this.unavailable('openAppSettings is not available on web.');\n    }\n    async setDisplayStrings() {\n        // not available on web\n    }\n    async requestDevice(options) {\n        const filters = this.getFilters(options);\n        const device = await navigator.bluetooth.requestDevice({\n            filters: filters.length ? filters : undefined,\n            optionalServices: options === null || options === void 0 ? void 0 : options.optionalServices,\n            acceptAllDevices: filters.length === 0,\n        });\n        this.deviceMap.set(device.id, device);\n        const bleDevice = this.getBleDevice(device);\n        return bleDevice;\n    }\n    async requestLEScan(options) {\n        this.requestBleDeviceOptions = options;\n        const filters = this.getFilters(options);\n        await this.stopLEScan();\n        this.discoveredDevices = new Map();\n        navigator.bluetooth.removeEventListener('advertisementreceived', this.onAdvertisementReceivedCallback);\n        navigator.bluetooth.addEventListener('advertisementreceived', this.onAdvertisementReceivedCallback);\n        this.scan = await navigator.bluetooth.requestLEScan({\n            filters: filters.length ? filters : undefined,\n            acceptAllAdvertisements: filters.length === 0,\n            keepRepeatedDevices: options === null || options === void 0 ? void 0 : options.allowDuplicates,\n        });\n    }\n    onAdvertisementReceived(event) {\n        var _a, _b;\n        const deviceId = event.device.id;\n        this.deviceMap.set(deviceId, event.device);\n        const isNew = !this.discoveredDevices.has(deviceId);\n        if (isNew || ((_a = this.requestBleDeviceOptions) === null || _a === void 0 ? void 0 : _a.allowDuplicates)) {\n            this.discoveredDevices.set(deviceId, true);\n            const device = this.getBleDevice(event.device);\n            const result = {\n                device,\n                localName: device.name,\n                rssi: event.rssi,\n                txPower: event.txPower,\n                manufacturerData: mapToObject(event.manufacturerData),\n                serviceData: mapToObject(event.serviceData),\n                uuids: (_b = event.uuids) === null || _b === void 0 ? void 0 : _b.map(webUUIDToString),\n            };\n            this.notifyListeners('onScanResult', result);\n        }\n    }\n    async stopLEScan() {\n        var _a;\n        if ((_a = this.scan) === null || _a === void 0 ? void 0 : _a.active) {\n            this.scan.stop();\n        }\n        this.scan = null;\n    }\n    async getDevices(_options) {\n        const devices = await navigator.bluetooth.getDevices();\n        const bleDevices = devices.map((device) => {\n            this.deviceMap.set(device.id, device);\n            const bleDevice = this.getBleDevice(device);\n            return bleDevice;\n        });\n        return { devices: bleDevices };\n    }\n    async getConnectedDevices(_options) {\n        const devices = await navigator.bluetooth.getDevices();\n        const bleDevices = devices\n            .filter((device) => {\n            var _a;\n            return (_a = device.gatt) === null || _a === void 0 ? void 0 : _a.connected;\n        })\n            .map((device) => {\n            this.deviceMap.set(device.id, device);\n            const bleDevice = this.getBleDevice(device);\n            return bleDevice;\n        });\n        return { devices: bleDevices };\n    }\n    async connect(options) {\n        var _a, _b;\n        const device = this.getDeviceFromMap(options.deviceId);\n        device.removeEventListener('gattserverdisconnected', this.onDisconnectedCallback);\n        device.addEventListener('gattserverdisconnected', this.onDisconnectedCallback);\n        const timeoutError = Symbol();\n        if (device.gatt === undefined) {\n            throw new Error('No gatt server available.');\n        }\n        try {\n            const timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : this.DEFAULT_CONNECTION_TIMEOUT;\n            await runWithTimeout(device.gatt.connect(), timeout, timeoutError);\n        }\n        catch (error) {\n            // cancel pending connect call, does not work yet in chromium because of a bug:\n            // https://bugs.chromium.org/p/chromium/issues/detail?id=684073\n            await ((_b = device.gatt) === null || _b === void 0 ? void 0 : _b.disconnect());\n            if (error === timeoutError) {\n                throw new Error('Connection timeout');\n            }\n            else {\n                throw error;\n            }\n        }\n    }\n    onDisconnected(event) {\n        const deviceId = event.target.id;\n        const key = `disconnected|${deviceId}`;\n        this.notifyListeners(key, null);\n    }\n    async createBond(_options) {\n        throw this.unavailable('createBond is not available on web.');\n    }\n    async isBonded(_options) {\n        throw this.unavailable('isBonded is not available on web.');\n    }\n    async disconnect(options) {\n        var _a;\n        (_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n    async getServices(options) {\n        var _a, _b;\n        const services = (_b = (await ((_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.getPrimaryServices()))) !== null && _b !== void 0 ? _b : [];\n        const bleServices = [];\n        for (const service of services) {\n            const characteristics = await service.getCharacteristics();\n            const bleCharacteristics = [];\n            for (const characteristic of characteristics) {\n                bleCharacteristics.push({\n                    uuid: characteristic.uuid,\n                    properties: this.getProperties(characteristic),\n                    descriptors: await this.getDescriptors(characteristic),\n                });\n            }\n            bleServices.push({ uuid: service.uuid, characteristics: bleCharacteristics });\n        }\n        return { services: bleServices };\n    }\n    async getDescriptors(characteristic) {\n        try {\n            const descriptors = await characteristic.getDescriptors();\n            return descriptors.map((descriptor) => ({\n                uuid: descriptor.uuid,\n            }));\n        }\n        catch (_a) {\n            return [];\n        }\n    }\n    getProperties(characteristic) {\n        return {\n            broadcast: characteristic.properties.broadcast,\n            read: characteristic.properties.read,\n            writeWithoutResponse: characteristic.properties.writeWithoutResponse,\n            write: characteristic.properties.write,\n            notify: characteristic.properties.notify,\n            indicate: characteristic.properties.indicate,\n            authenticatedSignedWrites: characteristic.properties.authenticatedSignedWrites,\n            reliableWrite: characteristic.properties.reliableWrite,\n            writableAuxiliaries: characteristic.properties.writableAuxiliaries,\n        };\n    }\n    async getCharacteristic(options) {\n        var _a;\n        const service = await ((_a = this.getDeviceFromMap(options.deviceId).gatt) === null || _a === void 0 ? void 0 : _a.getPrimaryService(options === null || options === void 0 ? void 0 : options.service));\n        return service === null || service === void 0 ? void 0 : service.getCharacteristic(options === null || options === void 0 ? void 0 : options.characteristic);\n    }\n    async getDescriptor(options) {\n        const characteristic = await this.getCharacteristic(options);\n        return characteristic === null || characteristic === void 0 ? void 0 : characteristic.getDescriptor(options === null || options === void 0 ? void 0 : options.descriptor);\n    }\n    async discoverServices(_options) {\n        throw this.unavailable('discoverServices is not available on web.');\n    }\n    async readRssi(_options) {\n        throw this.unavailable('readRssi is not available on web.');\n    }\n    async read(options) {\n        const characteristic = await this.getCharacteristic(options);\n        const value = await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.readValue());\n        return { value };\n    }\n    async write(options) {\n        const characteristic = await this.getCharacteristic(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.writeValueWithResponse(dataView));\n    }\n    async writeWithoutResponse(options) {\n        const characteristic = await this.getCharacteristic(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.writeValueWithoutResponse(dataView));\n    }\n    async readDescriptor(options) {\n        const descriptor = await this.getDescriptor(options);\n        const value = await (descriptor === null || descriptor === void 0 ? void 0 : descriptor.readValue());\n        return { value };\n    }\n    async writeDescriptor(options) {\n        const descriptor = await this.getDescriptor(options);\n        let dataView;\n        if (typeof options.value === 'string') {\n            dataView = hexStringToDataView(options.value);\n        }\n        else {\n            dataView = options.value;\n        }\n        await (descriptor === null || descriptor === void 0 ? void 0 : descriptor.writeValue(dataView));\n    }\n    async startNotifications(options) {\n        const characteristic = await this.getCharacteristic(options);\n        characteristic === null || characteristic === void 0 ? void 0 : characteristic.removeEventListener('characteristicvaluechanged', this.onCharacteristicValueChangedCallback);\n        characteristic === null || characteristic === void 0 ? void 0 : characteristic.addEventListener('characteristicvaluechanged', this.onCharacteristicValueChangedCallback);\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.startNotifications());\n    }\n    onCharacteristicValueChanged(event) {\n        var _a, _b;\n        const characteristic = event.target;\n        const key = `notification|${(_a = characteristic.service) === null || _a === void 0 ? void 0 : _a.device.id}|${(_b = characteristic.service) === null || _b === void 0 ? void 0 : _b.uuid}|${characteristic.uuid}`;\n        this.notifyListeners(key, {\n            value: characteristic.value,\n        });\n    }\n    async stopNotifications(options) {\n        const characteristic = await this.getCharacteristic(options);\n        await (characteristic === null || characteristic === void 0 ? void 0 : characteristic.stopNotifications());\n    }\n    getFilters(options) {\n        var _a;\n        const filters = [];\n        for (const service of (_a = options === null || options === void 0 ? void 0 : options.services) !== null && _a !== void 0 ? _a : []) {\n            filters.push({\n                services: [service],\n                name: options === null || options === void 0 ? void 0 : options.name,\n                namePrefix: options === null || options === void 0 ? void 0 : options.namePrefix,\n            });\n        }\n        if (((options === null || options === void 0 ? void 0 : options.name) || (options === null || options === void 0 ? void 0 : options.namePrefix)) && filters.length === 0) {\n            filters.push({\n                name: options.name,\n                namePrefix: options.namePrefix,\n            });\n        }\n        return filters;\n    }\n    getDeviceFromMap(deviceId) {\n        const device = this.deviceMap.get(deviceId);\n        if (device === undefined) {\n            throw new Error('Device not found. Call \"requestDevice\", \"requestLEScan\" or \"getDevices\" first.');\n        }\n        return device;\n    }\n    getBleDevice(device) {\n        var _a;\n        const bleDevice = {\n            deviceId: device.id,\n            // use undefined instead of null if name is not available\n            name: (_a = device.name) !== null && _a !== void 0 ? _a : undefined,\n        };\n        return bleDevice;\n    }\n}\n"],"names":["runWithTimeout","promise","time","exception","timer","Promise","race","_","reject","setTimeout","finally","clearTimeout","WebPlugin","hexStringToDataView","mapToObject","webUUIDToString","BluetoothLeWeb","constructor","arguments","deviceMap","Map","discoveredDevices","scan","DEFAULT_CONNECTION_TIMEOUT","onAdvertisementReceivedCallback","onAdvertisementReceived","bind","onDisconnectedCallback","onDisconnected","onCharacteristicValueChangedCallback","onCharacteristicValueChanged","initialize","navigator","bluetooth","unavailable","isAvailable","getAvailability","isEnabled","value","enable","disable","startEnabledNotifications","stopEnabledNotifications","isLocationEnabled","openLocationSettings","openBluetoothSettings","openAppSettings","setDisplayStrings","requestDevice","options","filters","getFilters","device","length","undefined","optionalServices","acceptAllDevices","set","id","bleDevice","getBleDevice","requestLEScan","requestBleDeviceOptions","stopLEScan","removeEventListener","addEventListener","acceptAllAdvertisements","keepRepeatedDevices","allowDuplicates","event","_a","_b","deviceId","isNew","has","result","localName","name","rssi","txPower","manufacturerData","serviceData","uuids","map","notifyListeners","active","stop","getDevices","_options","devices","bleDevices","getConnectedDevices","filter","gatt","connected","connect","getDeviceFromMap","timeoutError","Symbol","Error","timeout","error","disconnect","target","key","createBond","isBonded","getServices","services","getPrimaryServices","bleServices","service","characteristics","getCharacteristics","bleCharacteristics","characteristic","push","uuid","properties","getProperties","descriptors","getDescriptors","descriptor","broadcast","read","writeWithoutResponse","write","notify","indicate","authenticatedSignedWrites","reliableWrite","writableAuxiliaries","getCharacteristic","getPrimaryService","getDescriptor","discoverServices","readRssi","readValue","dataView","writeValueWithResponse","writeValueWithoutResponse","readDescriptor","writeDescriptor","writeValue","startNotifications","stopNotifications","namePrefix","get"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1]}