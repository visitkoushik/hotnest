{"version":3,"file":"src_app_bills_create-bill_newbill_newbill_module_ts.js","mappings":"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","sources":["./src/app/bills/create-bill/newbill/newbill-routing.module.ts","./src/app/bills/create-bill/newbill/newbill.module.ts","./src/app/bills/create-bill/newbill/newbill.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ConfiremdBillPage } from '../confirmed-bill/confirmed-bill';\n\nimport { NewbillPage } from './newbill.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewbillPage,\n    data: { title: 'In Cart',displayBackButton:true },\n  },\n  {\n    path: 'confirmedbill',\n    loadChildren: () => import('../confirmed-bill/confirmed-bill.module').then( m => m.ConfiremedbillPageModule)\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewbillPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewbillPageRoutingModule } from './newbill-routing.module';\n\nimport { NewbillPage } from './newbill.page';\nimport { MaterialModule } from 'src/app/material.module';\nimport { PipeModule } from 'src/app/pipe/pipe.module';\nimport { ConfiremdBillPage } from '../confirmed-bill/confirmed-bill';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NewbillPageRoutingModule,\n    MaterialModule,\n    PipeModule\n  ],\n  declarations: [NewbillPage]\n})\nexport class NewbillPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params, Router } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { GENDER, UtilClass } from 'src/model/util';\nimport { CartService } from 'src/app/providers/cart-service.service';\nimport { I_CartItem } from 'src/model/cartItem';\nimport { ClassBill } from 'src/model/billClass';\n\n@Component({\n  selector: 'app-newbill',\n  templateUrl: './newbill.page.html',\n  styleUrls: ['./newbill.page.scss'],\n})\nexport class NewbillPage implements OnInit {\n  data: any = null;\n  total = 0;\n  totalDiscount = 0;\n\n  constructor(\n    private cartService: CartService,\n    private activeRoute: ActivatedRoute,\n    private router: Router,\n    private location: Location\n  ) {}\n\n  ngOnInit() {\n    this.activeRoute.queryParams.subscribe((p) => {\n      this.data = JSON.parse(p.data);\n      this.data = {\n        ...this.data,\n        customerContact:\n          this.cartService.createBillPageRef.currentBiill.customerContact,\n        customerName:\n          this.cartService.createBillPageRef.currentBiill.customerName,\n        gender: this.cartService.createBillPageRef.currentBiill.gender,\n        paid: this.cartService.createBillPageRef.currentBiill.paid,\n        total: this.cartService.createBillPageRef.currentBiill.total,\n        discount: this.cartService.createBillPageRef.currentBiill.discount,\n      };\n    });\n  }\n\n  onNext = async () => {\n    let billtTotal = UtilClass.Get_Total(this.cartService, this.data.listItem);\n    this.total = billtTotal.price;\n    this.totalDiscount = billtTotal.totalDiscount;\n    const billClass = this.cartService.createBillPageRef?.currentBiill?.billID\n      ? new ClassBill({\n          ...this.cartService.createBillPageRef.currentBiill,\n          itemPurchased: this.data.listItem,\n          customerName: this.data.customerName,\n          customerContact: this.data.customerContact,\n          gender: this.data.gender,\n          paid: this.data.paid,\n          total: this.total,\n          discount: this.data.discount,\n        })\n      : new ClassBill(\n          this.data.listItem,\n          this.data.customerName,\n          this.data.customerContact,\n          this.data.gender,\n          await this.cartService.getOrderNumber(),\n          false,\n          this.data.discount,\n          this.data.paid,\n          this.total\n        );\n    this.cartService.createBillPageRef.currentBiill = billClass.bill;\n\n    this.router.navigate(['tab/createbill/newbill/confirmedbill'], {\n      relativeTo: this.activeRoute.root,\n      replaceUrl: false,\n      queryParams: {\n        data: JSON.stringify(billClass.getPrintValue(this.cartService)),\n      },\n    });\n  };\n  onChange = () => {\n    this.data.discount = !this.data.discount ? 0 : this.data.discount;\n    this.data.due = !this.data.due ? 0 : this.data.due;\n    const queryParams: Params = { data: JSON.stringify(this.data) };\n\n    this.cartService.createBillPageRef.currentBiill.discount =\n      this.data.discount;\n\n    this.router.navigate([], {\n      relativeTo: this.activeRoute,\n      replaceUrl: true,\n      queryParams,\n    });\n  };\n  onClickInput = (target) => target.select();\n}\n"],"names":["Component","ActivatedRoute","Router","Location","UtilClass","CartService","ClassBill","NewbillPage","constructor","cartService","activeRoute","router","location","billtTotal","Get_Total","data","listItem","total","price","totalDiscount","billClass","createBillPageRef","currentBiill","billID","itemPurchased","customerName","customerContact","gender","paid","discount","getOrderNumber","bill","navigate","relativeTo","root","replaceUrl","queryParams","JSON","stringify","getPrintValue","due","target","select","ngOnInit","subscribe","p","parse","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}