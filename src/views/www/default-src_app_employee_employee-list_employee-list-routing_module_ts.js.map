{"version":3,"file":"default-src_app_employee_employee-list_employee-list-routing_module_ts.js","mappings":"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","sources":["./src/app/employee/employee-list/employee-list-routing.module.ts","./src/app/employee/employee-list/employee-list.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EmployeeListPage } from './employee-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EmployeeListPage,\n    data: { title: 'Employee List', hideLogin: true },\n  },\n  {\n    path: 'update-employee',\n    loadChildren: () =>\n      import('../update-employee/update-employee-routing.module').then(\n        (m) => m.UpdateEmployeePageRoutingModule\n      ),\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EmployeeListPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  ActivatedRoute,\n  NavigationEnd,\n  NavigationError,\n  NavigationStart,\n  Router,\n} from '@angular/router';\nimport { HttpService } from 'src/app/providers/http.service';\nimport { SnackbarService } from 'src/app/providers/snackbar.service';\nimport { UtilService } from 'src/app/providers/utilservice.service';\nimport { AppResponse } from 'src/model/AppResponse';\nimport { I_Employee } from 'src/model/employee';\nimport { ApiEndPoint } from 'src/model/util';\n\n@Component({\n  selector: 'app-employee-list',\n  templateUrl: 'employee-list.page.html',\n  styleUrls: ['employee-list.page.scss'],\n})\nexport class EmployeeListPage implements OnInit {\n  public allEmployeies: I_Employee[] = [];\n  public EMPLOYEE_READ: boolean = false;\n  constructor(\n    public utilSrvc: UtilService,\n    private activeRoute: ActivatedRoute,\n    private snackBar: SnackbarService,\n    private httpSrvc: HttpService,\n    private router: Router\n  ) {\n    this.EMPLOYEE_READ =\n      this.utilSrvc.metaData.accessRight.findIndex(\n        (e) => e === 'EMPLOYEE_READ'\n      ) > -1;\n\n    this.router.events.subscribe(\n      (event: NavigationStart | NavigationEnd | NavigationError) => {\n        if (\n          event instanceof NavigationStart &&\n          event.url.startsWith('/employee-tab/list')\n        ) {\n          this.utilSrvc.branchCode = '0';\n          // this.util.isLoading = true;\n          this.fetchAllEmployee();\n        }\n\n        if (event instanceof NavigationEnd) {\n          // Hide loading indicator\n        }\n\n        if (event instanceof NavigationError) {\n          // Hide loading indicator\n\n          // Present error to user\n          console.log(event.error);\n        }\n      }\n    );\n  }\n\n  ngOnInit() {\n    this.fetchAllEmployee();\n  }\n\n  onBranchChanged() {\n    this.fetchAllEmployee();\n  }\n  trackByFn = (inx, emp: I_Employee) => emp.userName;\n\n  private fetchAllEmployee = () => {\n    this.utilSrvc.isLoading = true;\n    this.httpSrvc\n      .get(ApiEndPoint.EMPLOYEE_LIST, `branchCode=${this.utilSrvc.branchCode}`)\n      .then((e: AppResponse<I_Employee[]>) => {\n        this.allEmployeies = [...e.responseObject];\n        this.utilSrvc.isLoading = false;\n      })\n      .catch((e: AppResponse<any>) => {\n        this.utilSrvc.isLoading = false;\n        this.snackBar.openSnackBar(e.error.toString());\n      });\n  };\n\n  onClickEmployee = (emp: I_Employee) => {\n    this.router.navigate(['update-employee'], {\n      relativeTo: this.activeRoute,\n      queryParams: { data: JSON.stringify(emp) },\n    });\n  };\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}