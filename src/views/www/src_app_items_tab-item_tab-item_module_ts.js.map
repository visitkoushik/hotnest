{"version":3,"file":"src_app_items_tab-item_tab-item_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;AAA2C;AAQlB;AAE2C;IAIvD,mBAAmB,SAAnB,mBAAmB;IAwB9B,aAAa;IACb,YAAoB,MAAc,EAAU,IAAiB;QAAzC,WAAM,GAAN,MAAM,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAa;IAAG,CAAC;IAtBjE,WAAW;QACT,4CAA4C;QAE5C,OAAO,CACL,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,GAAG,CAAC,CAAC,CACvE,CAAC;IACJ,CAAC;IACD,aAAa,CACX,SAAsB,EACtB,YAAoC,EACpC,YAAiC,EACjC,SAA+B;QAM/B,OAAO,CACL,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,UAAU,CAAC,GAAG,CAAC,CAAC,CACvE,CAAC;IACJ,CAAC;CAGF;;YAnCC,mDAAM;YAKC,8EAAW;;AAIP,mBAAmB;IAD/B,yDAAU,EAAE;GACA,mBAAmB,CA0B/B;AA1B+B;;;;;;;;;;;;;;;;;;;;ACdS;AACc;AAGT;AAE9C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAW;QACtB,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,UAAU;gBAChB,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,EAAE;wBACR,YAAY,EAAC,GAAG,EAAE,CAAC,+KAAqC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC;qBACzF;iBACF;aACF;YACD;gBACE,IAAI,EAAE,WAAW;gBACjB,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,EAAE;wBACR,YAAY,EAAC,GAAG,EAAE,CAAC,mLAAuC,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC;qBAC5F;iBACF;aACF;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,QAAQ,EAAE;oBACR;wBACE,IAAI,EAAE,EAAE;wBACR,YAAY,EAAC,GAAG,EAAE,CAAC,+LAA6C,CAAC,IAAI,CAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,qBAAqB,CAAC;qBACrG;iBACF;aACF;YAED,IAAI;YACJ,cAAc;YACd,sCAAsC;YACtC,uBAAuB;YACvB,oCAAoC;YACpC,KAAK;YACL;gBACE,IAAI,EAAE,EAAE;gBACR,UAAU,EAAE,qBAAqB;gBACjC,SAAS,EAAE,MAAM;aAClB;SACF;KACF;CACF,CAAC;IAMW,wBAAwB,SAAxB,wBAAwB;CAAG;AAA3B,wBAAwB;IAJpC,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,kEAAqB,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,yDAAY,CAAC;KACxB,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;AC1DI;AACM;AACF;AAEA;AAEwB;AAEvB;AACW;AACF;IAa1C,iBAAiB,SAAjB,iBAAiB;CAAG;AAApB,iBAAiB;IAX7B,uDAAQ,CAAC;QACR,OAAO,EAAE;YACP,yDAAY;YACZ,uDAAW;YACX,uDAAW;YACX,8EAAwB;YACxB,mEAAc;SACf;QACD,YAAY,EAAE,CAAC,uDAAW,CAAC;QAC3B,SAAS,EAAC,CAAC,gEAAmB,CAAC;KAChC,CAAC;GACW,iBAAiB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvB9B;AACA;AACA;AACA;IASaI,WAAW,SAAXA,WAAW;EAKtBC,YACUC,SADV,EAEUC,IAFV,EAGUC,OAHV,EAGoC;IAF1B;IACA;IACA;IAPH,gBAAoB,KAApB;IACA,mBAAuB,KAAvB;IACA,iBAAqB,KAArB;IACA,qBAAyB,KAAzB;EAKH;;EAEEC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,QAAL,GACE,KAAI,CAACH,IAAL,CAAUI,QAAV,CAAmBC,WAAnB,CAA+BC,SAA/B,CAA0CC,CAAD,IAAOA,CAAC,KAAK,UAAtD,IAAoE,CAAC,CADvE;MAEA,KAAI,CAACC,WAAL,GACE,KAAI,CAACR,IAAL,CAAUI,QAAV,CAAmBC,WAAnB,CAA+BC,SAA/B,CAA0CC,CAAD,IAAOA,CAAC,KAAK,aAAtD,IAAuE,CAAC,CAD1E;MAEA,KAAI,CAACE,SAAL,GACE,KAAI,CAACT,IAAL,CAAUI,QAAV,CAAmBC,WAAnB,CAA+BC,SAA/B,CAA0CC,CAAD,IAAOA,CAAC,KAAK,WAAtD,IAAqE,CAAC,CADxE;MAEA,KAAI,CAACG,aAAL,GACE,KAAI,CAACV,IAAL,CAAUI,QAAV,CAAmBC,WAAnB,CAA+BC,SAA/B,CAA0CC,CAAD,IAAOA,CAAC,KAAK,eAAtD,IACA,CAAC,CAFH;IAPY;EAYb;;AAvBqB;;;QAVfZ,+EAAWA;;QACXC,8EAAWA;;QAFXF,sFAAiBA;;;AAWbG,WAAW,sDALvBJ,wDAAS,CAAC;EACTkB,QAAQ,EAAE,cADD;EAETC,UAAAA,2DAFS;;AAAA,CAAD,CAKc,GAAXf,WAAW,CAAX","sources":["./src/app/items/tab-item/add-item.guard.ts","./src/app/items/tab-item/tab-item-routing.module.ts","./src/app/items/tab-item/tab-item.module.ts","./src/app/items/tab-item/tab-item.page.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanDeactivate,\n  Router,\n  RouterStateSnapshot,\n  UrlTree,\n} from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { UtilService } from 'src/app/providers/utilservice.service';\nimport { AddItemPage } from '../add-item/add-item.page';\n\n@Injectable()\nexport class AddItemDisplayGuard\n  implements CanActivate, CanDeactivate<AddItemPage>\n{\n  canActivate() {\n    //Your redirect logic/condition. I use this.\n\n    return (\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_ADD') > -1\n    );\n  }\n  canDeactivate(\n    component: AddItemPage,\n    currentRoute: ActivatedRouteSnapshot,\n    currentState: RouterStateSnapshot,\n    nextState?: RouterStateSnapshot\n  ):\n    | boolean\n    | UrlTree\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree> {\n    return (\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_ADD') > -1\n    );\n  }\n  //Constructor\n  constructor(private router: Router, private util: UtilService) {}\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AddItemDisplayGuard } from './add-item.guard';\n\nimport { TabItemPage } from './tab-item.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TabItemPage,\n    children: [\n      {\n        path: 'add-item',\n        children: [\n          {\n            path: '',\n            loadChildren:() => import('../add-item/add-item.module').then( m => m.AddItemPageModule)\n          },\n        ],\n      },\n      {\n        path: 'item-list',\n        children: [\n          {\n            path: '',\n            loadChildren:() => import('../item-list/item-list.module').then( m => m.ItemListPageModule)\n          },\n        ],\n      },\n      {\n        path: 'add-category',\n        children: [\n          {\n            path: '',\n            loadChildren:() => import('../add-category/add-category.module').then( m => m.AddCategoryPageModule)\n          },\n        ],\n      },\n\n      // {\n      //   path: '',\n      //   redirectTo: '/tab-item/add-item',\n      //   pathMatch: 'full',\n      //   canLoad: [AddItemDisplayGuard],\n      // },\n      {\n        path: '',\n        redirectTo: '/tab-item/item-list',\n        pathMatch: 'full',\n      },\n    ],\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TabItemPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TabItemPageRoutingModule } from './tab-item-routing.module';\n\nimport { TabItemPage } from './tab-item.page';\nimport { MaterialModule } from 'src/app/material.module';\nimport { AddItemDisplayGuard } from './add-item.guard';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TabItemPageRoutingModule,\n    MaterialModule\n  ],\n  declarations: [TabItemPage],\n  providers:[AddItemDisplayGuard]\n})\nexport class TabItemPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AppStorageService } from 'src/app/app-storage/app-storage.service';\nimport { CartService } from 'src/app/providers/cart-service.service';\nimport { UtilService } from 'src/app/providers/utilservice.service';\nimport { I_Category } from 'src/model/category';\nimport { StoreName } from 'src/model/util';\n\n@Component({\n  selector: 'app-tab-item',\n  templateUrl: './tab-item.page.html',\n  styleUrls: ['./tab-item.page.scss'],\n})\nexport class TabItemPage implements OnInit {\n  public ITEM_ADD: boolean = false;\n  public ITEM_UPDATE: boolean = false;\n  public ITEM_READ: boolean = false;\n  public CATEGORY_READ: boolean = false;\n  constructor(\n    private cartServc: CartService,\n    private util: UtilService,\n    private storage: AppStorageService\n  ) {}\n\n  async ngOnInit() {\n    this.ITEM_ADD =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_ADD') > -1;\n    this.ITEM_UPDATE =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_UPDATE') > -1;\n    this.ITEM_READ =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_READ') > -1;\n    this.CATEGORY_READ =\n      this.util.metaData.accessRight.findIndex((e) => e === 'CATEGORY_READ') >\n      -1;\n\n\n  }\n}\n"],"names":["Component","AppStorageService","CartService","UtilService","TabItemPage","constructor","cartServc","util","storage","ngOnInit","ITEM_ADD","metaData","accessRight","findIndex","e","ITEM_UPDATE","ITEM_READ","CATEGORY_READ","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}