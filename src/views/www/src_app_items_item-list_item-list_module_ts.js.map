{"version":3,"file":"src_app_items_item-list_item-list_module_ts.js","mappings":"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","sources":["./src/app/items/item-list/item-list-routing.module.ts","./src/app/items/item-list/item-list.module.ts","./src/app/items/item-list/item-list.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ItemListPage } from './item-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemListPage,\n    data: { title: 'Item List' },\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ItemListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemListPageRoutingModule } from './item-list-routing.module';\n\nimport { ItemListPage } from './item-list.page';\nimport { MaterialModule } from 'src/app/material.module';\nimport { PipeModule } from 'src/app/pipe/pipe.module';\nimport { BranchSelectorModule } from 'src/app/branch-selector/branch-selector.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ItemListPageRoutingModule,\n    MaterialModule,\n    PipeModule,\n    BranchSelectorModule,\n  ],\n  declarations: [ItemListPage]\n})\nexport class ItemListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport {\n  ActivatedRoute,\n  NavigationEnd,\n  NavigationError,\n  NavigationStart,\n  Router,\n} from '@angular/router';\nimport { CartService } from 'src/app/providers/cart-service.service';\nimport { UtilService } from 'src/app/providers/utilservice.service';\nimport { I_Items } from 'src/model/items';\n\n@Component({\n  selector: 'app-item-list',\n  templateUrl: './item-list.page.html',\n  styleUrls: ['./item-list.page.scss'],\n})\nexport class ItemListPage implements OnInit {\n  public filterTerm = '';\n  public includeOutOfStockItem: boolean = false;\n\n  public allItems: I_Items[] = [];\n  ITEM_ADD: boolean;\n  ITEM_UPDATE: boolean;\n  ITEM_READ: boolean;\n  CATEGORY_READ: boolean;\n\n  constructor(\n    public util: UtilService,\n    public cartsrvc: CartService,\n    private router: Router\n  ) {\n    this.router.events.subscribe(\n      (event: NavigationStart | NavigationEnd | NavigationError) => {\n        if (\n          event instanceof NavigationStart &&\n          event.url.startsWith('/tab-item/item-list')\n        ) {\n          // this.util.isLoading = true;\n\n          this.getItemList();\n        }\n\n        if (event instanceof NavigationEnd) {\n          // Hide loading indicator\n        }\n\n        if (event instanceof NavigationError) {\n          // Hide loading indicator\n\n          // Present error to user\n          console.log(event.error);\n        }\n      }\n    );\n  }\n\n  ngOnInit() {\n    this.ITEM_ADD =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_ADD') > -1;\n    this.ITEM_UPDATE =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_UPDATE') > -1;\n    this.ITEM_READ =\n      this.util.metaData.accessRight.findIndex((e) => e === 'ITEM_READ') > -1;\n\n    this.getItemList();\n  }\n  trackByFn = (inx, item: I_Items) => item.id;\n\n  onModifyItem = (item: I_Items) => {\n    this.router.navigate(['/tab-item/add-item'], {\n      queryParams: { data: JSON.stringify(item) },\n    });\n  };\n  onChangeIncludeStock = (event) => {\n    this.getItemList();\n  };\n\n  private getItemList = () => {\n    this.cartsrvc.getAllItem(\n      this.util.branchCode,\n      this.includeOutOfStockItem ? null : true,\n      () => {\n        this.allItems = this.cartsrvc.mainItems;\n      }\n    );\n  };\n\n  onBranchChanged = () => {\n    this.getItemList();\n  };\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}