"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1268],{1268:(Y,p,i)=>{i.r(p),i.d(p,{ShowItemReportsPageModule:()=>A});var c=i(6895),u=i(4006),s=i(2977),l=i(6630),f=i(2459),m=i(7699),t=i(4650),d=i(847),g=i(4879),r=i(3626);function R(e,n){1&e&&(t.TgZ(0,"th",8),t._uU(1,"Name"),t.qZA())}function C(e,n){if(1&e&&(t.TgZ(0,"td",9),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.itemName," ")}}function D(e,n){1&e&&(t.TgZ(0,"th",8),t._uU(1,"Count"),t.qZA())}function P(e,n){if(1&e&&(t.TgZ(0,"td",9),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.itemCount," ")}}function w(e,n){1&e&&(t.TgZ(0,"th",8),t._uU(1,"Value"),t.qZA())}function y(e,n){if(1&e&&(t.TgZ(0,"td",9),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.hij(" ",o.total.toFixed(2)," ")}}function x(e,n){1&e&&t._UZ(0,"tr",10)}function I(e,n){1&e&&t._UZ(0,"tr",11)}let v=(()=>{class e{constructor(o){this.util=o,this.reportResultBalance=null,this.totalProfit=0,this.displayedColumns=["itemName","itemCount","total"],this.start=null,this.end=null,this.transform=(new g.p).transform}ngOnInit(){this.iReportsResp={...this.util.iReportsResp},this.itemReport=Object.values(this.iReportsResp.items),console.log(this.itemReport)}ngOnChanges(o){this.iReportsResp={...this.util.iReportsResp},this.itemReport=Object.values(this.iReportsResp.items)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-period-item-profit"]],inputs:{startDate:"startDate",endDate:"endDate",selectedReport:"selectedReport",filterDateBy:"filterDateBy"},features:[t.TTD],decls:13,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","itemName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","itemCount"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"ion-content")(1,"table",0),t.ynx(2,1),t.YNc(3,R,2,0,"th",2),t.YNc(4,C,2,1,"td",3),t.BQk(),t.ynx(5,4),t.YNc(6,D,2,0,"th",2),t.YNc(7,P,2,1,"td",3),t.BQk(),t.ynx(8,5),t.YNc(9,w,2,0,"th",2),t.YNc(10,y,2,1,"td",3),t.BQk(),t.YNc(11,x,1,0,"tr",6),t.YNc(12,I,1,0,"tr",7),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("dataSource",a.itemReport),t.xp6(10),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns))},dependencies:[s.W2,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk],styles:["table[_ngcontent-%COMP%]{width:100%;box-shadow:none}.resultstyle[_ngcontent-%COMP%]{display:block;text-align:right;padding-right:16px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:center;font-weight:700}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding:0}th.mat-header-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid currentColor}.mat-column-order[_ngcontent-%COMP%]{width:10vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-itemCount[_ngcontent-%COMP%]{width:15vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-total[_ngcontent-%COMP%]{width:25vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-itemName[_ngcontent-%COMP%]{width:60vw;text-align:left;padding:0 0 0 5px;border-right:1px solid currentColor}"]}),e})();function T(e,n){if(1&e&&t._UZ(0,"app-period-item-profit",2),2&e){const o=t.oxw();t.Q6J("startDate",o.startDate)("endDate",o.endDate)("selectedReport",o.selectedReport)("filterDateBy",o.filterDateBy)}}const Z=[{path:"",component:(()=>{class e{constructor(o,a){this.activeRoute=o,this.util=a,this.startDate=null,this.endDate=null,this.selectedReport="-1",this.pageheading="",this.total=0,this.FILTERBY=m.pA}ngOnInit(){this.activeRoute.queryParams.subscribe(a=>{this.startDate=a.startDate,this.endDate=a.endDate,this.selectedReport=a.selectedReport,this.filterDateBy=+a.filterDateBy;const h=new f.M,S=h.transform(new Date(this.startDate)),N=h.transform(new Date(this.endDate));this.pageheading=(this.filterDateBy===m.pA.DATE?S:this.startDate)+" - "+(this.filterDateBy===m.pA.DATE?N:this.endDate)}),Object.values(this.util.iReportsResp.items).forEach(a=>{this.total+=a.total})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.gz),t.Y36(d.f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-show-item-reports"]],decls:7,vars:3,consts:[[3,"startDate","endDate","selectedReport","filterDateBy",4,"ngIf"],[2,"text-align","end","padding","1rem"],[3,"startDate","endDate","selectedReport","filterDateBy"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-header")(1,"ion-title"),t._uU(2),t.qZA()(),t.TgZ(3,"ion-content"),t.YNc(4,T,1,4,"app-period-item-profit",0),t.qZA(),t.TgZ(5,"ion-footer",1),t._uU(6),t.qZA()),2&o&&(t.xp6(2),t.Oqu(a.pageheading),t.xp6(2),t.Q6J("ngIf","-1"===a.selectedReport),t.xp6(2),t.hij(" Total: ",a.total.toFixed(2),"\n"))},dependencies:[c.O5,s.W2,s.fr,s.Gu,s.wd,v]}),e})(),data:{title:"Reports & Billings",displayBackButton:!0,backTo:"reports"}}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),e})();var O=i(3493),M=i(1373);let A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,u.u5,s.Pc,B,O.d,M.q]}),e})()}}]);