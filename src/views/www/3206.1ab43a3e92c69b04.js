"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3206],{3206:(H,u,i)=>{i.r(u),i.d(u,{ItemwisePageModule:()=>E});var p=i(6895),P=i(4006),l=i(2977),r=i(6630),w=i(4879),x=i(2459),d=i(7699),t=i(4650),D=i(4422),C=i(847),R=i(5030),v=i(415),I=i(8739),s=i(3626);function T(e,n){1&e&&(t.TgZ(0,"th",11),t._uU(1,"#"),t.qZA())}function Z(e,n){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.Oqu(a.order)}}function y(e,n){1&e&&(t.TgZ(0,"th",11),t._uU(1,"Date"),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.date," ")}}function M(e,n){1&e&&(t.TgZ(0,"th",11),t._uU(1,"Count"),t.qZA())}function A(e,n){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.itemCount," ")}}function O(e,n){1&e&&(t.TgZ(0,"th",11),t._uU(1,"S(Rs)"),t.qZA())}function Y(e,n){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.sellingAmount.toFixed(2)," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",11),t._uU(1,"P(Rs)"),t.qZA())}function _(e,n){if(1&e&&(t.TgZ(0,"td",12),t._uU(1),t.qZA()),2&e){const a=n.$implicit;t.xp6(1),t.hij(" ",a.total.toFixed(2)," ")}}function S(e,n){1&e&&t._UZ(0,"tr",13)}function U(e,n){1&e&&t._UZ(0,"tr",14)}function F(e,n){if(1&e){const a=t.EpF();t.TgZ(0,"mat-paginator",15,16),t.NdJ("page",function(m){t.CHM(a);const g=t.oxw();return t.KtG(g.handlePageEvent(m))}),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("length",null==a.iReportsResp?null:a.iReportsResp.totalPage)("pageSize",a.currentMaxPage)("showFirstLastButtons",!0)("hidePageSize",!0)("pageIndex",0)}}const Q=[{path:"",component:(()=>{class e{constructor(a,o,m,g,J,L){this.cartServc=a,this.activeRoute=o,this.util=m,this.httpService=g,this.snackBar=J,this.router=L,this.startDate=null,this.endDate=null,this.selectedReport="-1",this.pageheading="",this.FILTERBY=d.pA,this.itemName="",this.reportResultBalance=null,this.totalProfit=0,this.displayedColumns=["order","date","itemCount","sellingAmount","total"],this.start=null,this.end=null,this.currentMaxPage=this.util.maxPageCountReport,this.transform=(new w.p).transform,this.fetchData=c=>{this.fetchFilterBill({startDate:this.startDate,endDate:this.endDate,selectedReport:this.selectedReport,filterDateBy:this.filterDateBy,paged:!0,page:c?c+1:1,count:this.currentMaxPage})},this.handlePageEvent=c=>{this.fetchData(c.pageIndex)},this.fetchFilterBill=c=>{this.util.isLoading=!0,this.httpService.post(d.sY.REPORT_ITEMWISE,{...c}).then(h=>{console.log(h.responseObject),this.iReportsResp={...h.responseObject},this.reportResultBalance=this.iReportsResp.billList.map((f,$)=>(this.itemName=f.itemName,{...f,order:$+1})),this.util.isLoading=!1}).catch(h=>{console.log(h),this.util.isLoading=!1})}}ngOnInit(){this.activeRoute.queryParams.subscribe(a=>{this.startDate=a.startDate,this.endDate=a.endDate,this.selectedReport=a.selectedReport,this.filterDateBy=+a.filterDateBy;const o=new x.M,m=o.transform(new Date(this.startDate)),g=o.transform(new Date(this.endDate));this.pageheading=(this.filterDateBy===d.pA.DATE?m:this.startDate)+" - "+(this.filterDateBy===d.pA.DATE?g:this.endDate),this.fetchData()}),this.router.events.subscribe(a=>{a instanceof r.Q3&&console.log(a.error)})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(D.N),t.Y36(r.gz),t.Y36(C.f),t.Y36(R.O),t.Y36(v.o),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-itemwise"]],decls:27,vars:6,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","order"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","itemCount"],["matColumnDef","sellingAmount"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","demo-paginator","aria-label","Select page",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","showFirstLastButtons","hidePageSize","pageIndex","page"],["paginator",""]],template:function(a,o){1&a&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3),t.qZA()(),t.TgZ(4,"ion-label"),t._uU(5),t.qZA()(),t.TgZ(6,"ion-content")(7,"table",0),t.ynx(8,1),t.YNc(9,T,2,0,"th",2),t.YNc(10,Z,2,1,"td",3),t.BQk(),t.ynx(11,4),t.YNc(12,y,2,0,"th",2),t.YNc(13,B,2,1,"td",3),t.BQk(),t.ynx(14,5),t.YNc(15,M,2,0,"th",2),t.YNc(16,A,2,1,"td",3),t.BQk(),t.ynx(17,6),t.YNc(18,O,2,0,"th",2),t.YNc(19,Y,2,1,"td",3),t.BQk(),t.ynx(20,7),t.YNc(21,N,2,0,"th",2),t.YNc(22,_,2,1,"td",3),t.BQk(),t.YNc(23,S,1,0,"tr",8),t.YNc(24,U,1,0,"tr",9),t.qZA()(),t.TgZ(25,"ion-footer"),t.YNc(26,F,2,5,"mat-paginator",10),t.qZA()),2&a&&(t.xp6(3),t.Oqu(o.pageheading),t.xp6(2),t.Oqu(o.itemName),t.xp6(2),t.Q6J("dataSource",o.reportResultBalance),t.xp6(16),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("ngIf",null==o.iReportsResp?null:o.iReportsResp.totalPage))},dependencies:[p.O5,l.W2,l.fr,l.Gu,l.Q$,l.wd,l.sr,I.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:["table[_ngcontent-%COMP%]{width:100%;box-shadow:none}.resultstyle[_ngcontent-%COMP%]{display:block;text-align:right;padding-right:16px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:center;font-weight:700}th.mat-header-cell[_ngcontent-%COMP%]:last-of-type, th.mat-header-cell[_ngcontent-%COMP%]:first-of-type, td.mat-cell[_ngcontent-%COMP%]:last-of-type, td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding:0}th.mat-header-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid currentColor}.mat-column-order[_ngcontent-%COMP%]{width:10vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-itemCount[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%]{width:15vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-sellingAmount[_ngcontent-%COMP%], .mat-column-total[_ngcontent-%COMP%]{width:25vw;text-align:center;padding:0;border-right:1px solid currentColor}.mat-column-item[_ngcontent-%COMP%]{width:50vw;padding:0;text-align:left;border-right:1px solid currentColor}"]}),e})(),data:{title:"Report & Billings",displayBackButton:!0}}];let z=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.Bz.forChild(Q),r.Bz]}),e})();var b=i(3493),j=i(1373);let E=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.ez,P.u5,l.Pc,z,b.d,j.q]}),e})()}}]);